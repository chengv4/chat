import{g as e,r as o,f as l,w as a,a as t,p as s,d as n,a5 as r,M as d,o as i,E as u,D as c,T as f,u as p,F as v,e as y,C as m,R as b,c as C,O as h,H as g,B as k,J as A,K as B}from"./vendor-BExUNkqn.js";import{i as S,m as F,v as w,o as x,x as E,y as D,z as L,A as R,l as I,B as T,a as O,u as $,C as z,E as j,D as _,w as P}from"./index-CCyYLrLR.js";import{u as M,E as N}from"./el-overlay-UEZ7cf3O.js";import{E as q,a as H}from"./index-CzEXEj0t.js";import{U as V}from"./event-BwRzfsZt.js";import{u as U}from"./index-J3PlA855.js";import{i as J}from"./el-popper-CurvTsXO.js";import{u as K}from"./index-CuRgrL4S.js";const Z=S({center:Boolean,alignCenter:Boolean,closeIcon:{type:F},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),G=S({...Z,appendToBody:Boolean,appendTo:{type:x([String,Object]),default:"body"},beforeClose:{type:x(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),Q={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[V]:e=>w(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},W=S({...G,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),X=Q,Y=n({name:"ElDrawer",inheritAttrs:!1});const ee=P(O(n({...Y,props:W,emits:X,setup(n,{expose:S}){const F=n,w=r();K({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},l((()=>!!w.title)));const x=o(),O=o(),P=$("drawer"),{t:Z}=z(),{afterEnter:G,afterLeave:Q,beforeLeave:W,visible:X,rendered:Y,titleId:ee,bodyId:oe,zIndex:le,onModalClick:ae,onOpenAutoFocus:te,onCloseAutoFocus:se,onFocusoutPrevented:ne,onCloseRequested:re,handleClose:de}=((n,r)=>{var d;const i=e().emit,{nextZIndex:u}=E();let c="";const f=U(),p=U(),v=o(!1),y=o(!1),m=o(!1),b=o(null!=(d=n.zIndex)?d:u());let C,h;const g=D("namespace",R),k=l((()=>{const e={},o=`--${g.value}-dialog`;return n.fullscreen||(n.top&&(e[`${o}-margin-top`]=n.top),n.width&&(e[`${o}-width`]=L(n.width))),e})),A=l((()=>n.alignCenter?{display:"flex"}:{}));function B(){null==h||h(),null==C||C(),n.openDelay&&n.openDelay>0?({stop:C}=I((()=>w()),n.openDelay)):w()}function S(){null==C||C(),null==h||h(),n.closeDelay&&n.closeDelay>0?({stop:h}=I((()=>x()),n.closeDelay)):x()}function F(){n.beforeClose?n.beforeClose((function(e){e||(y.value=!0,v.value=!1)})):S()}function w(){T&&(v.value=!0)}function x(){v.value=!1}return n.lockScroll&&M(v),a((()=>n.modelValue),(e=>{e?(y.value=!1,B(),m.value=!0,b.value=J(n.zIndex)?u():b.value++,s((()=>{i("open"),r.value&&(r.value.parentElement.scrollTop=0,r.value.parentElement.scrollLeft=0,r.value.scrollTop=0)}))):v.value&&S()})),a((()=>n.fullscreen),(e=>{r.value&&(e?(c=r.value.style.transform,r.value.style.transform=""):r.value.style.transform=c)})),t((()=>{n.modelValue&&(v.value=!0,m.value=!0,B())})),{afterEnter:function(){i("opened")},afterLeave:function(){i("closed"),i(V,!1),n.destroyOnClose&&(m.value=!1)},beforeLeave:function(){i("close")},handleClose:F,onModalClick:function(){n.closeOnClickModal&&F()},close:S,doClose:x,onOpenAutoFocus:function(){i("openAutoFocus")},onCloseAutoFocus:function(){i("closeAutoFocus")},onCloseRequested:function(){n.closeOnPressEscape&&F()},onFocusoutPrevented:function(e){var o;"pointer"===(null==(o=e.detail)?void 0:o.focusReason)&&e.preventDefault()},titleId:f,bodyId:p,closed:y,style:k,overlayDialogStyle:A,rendered:m,visible:v,zIndex:b}})(F,x),ie=l((()=>"rtl"===F.direction||"ltr"===F.direction)),ue=l((()=>L(F.size)));return S({handleClose:de,afterEnter:G,afterLeave:Q}),(e,o)=>(i(),d(p(H),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:u((()=>[c(f,{name:p(P).b("fade"),onAfterEnter:p(G),onAfterLeave:p(Q),onBeforeLeave:p(W),persisted:""},{default:u((()=>[v(c(p(N),{mask:e.modal,"overlay-class":e.modalClass,"z-index":p(le),onClick:p(ae)},{default:u((()=>[c(p(q),{loop:"",trapped:p(X),"focus-trap-el":x.value,"focus-start-el":O.value,onFocusAfterTrapped:p(te),onFocusAfterReleased:p(se),onFocusoutPrevented:p(ne),onReleaseRequested:p(re)},{default:u((()=>[y("div",m({ref_key:"drawerRef",ref:x,"aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:p(ee),"aria-describedby":p(oe)},e.$attrs,{class:[p(P).b(),e.direction,p(X)&&"open"],style:p(ie)?"width: "+p(ue):"height: "+p(ue),role:"dialog",onClick:b((()=>{}),["stop"])}),[y("span",{ref_key:"focusStartRef",ref:O,class:g(p(P).e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(i(),C("header",{key:0,class:g([p(P).e("header"),e.headerClass])},[e.$slots.title?k(e.$slots,"title",{key:1},(()=>[h(" DEPRECATED SLOT ")])):k(e.$slots,"header",{key:0,close:p(de),titleId:p(ee),titleClass:p(P).e("title")},(()=>[e.$slots.title?h("v-if",!0):(i(),C("span",{key:0,id:p(ee),role:"heading","aria-level":e.headerAriaLevel,class:g(p(P).e("title"))},A(e.title),11,["id","aria-level"]))])),e.showClose?(i(),C("button",{key:2,"aria-label":p(Z)("el.drawer.close"),class:g(p(P).e("close-btn")),type:"button",onClick:p(de)},[c(p(j),{class:g(p(P).e("close"))},{default:u((()=>[c(p(_))])),_:1},8,["class"])],10,["aria-label","onClick"])):h("v-if",!0)],2)):h("v-if",!0),p(Y)?(i(),C("div",{key:1,id:p(oe),class:g([p(P).e("body"),e.bodyClass])},[k(e.$slots,"default")],10,["id"])):h("v-if",!0),e.$slots.footer?(i(),C("div",{key:2,class:g([p(P).e("footer"),e.footerClass])},[k(e.$slots,"footer")],2)):h("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])])),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])])),_:3},8,["mask","overlay-class","z-index","onClick"]),[[B,p(X)]])])),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])])),_:3},8,["to","disabled"]))}}),[["__file","drawer.vue"]]));export{ee as E};
