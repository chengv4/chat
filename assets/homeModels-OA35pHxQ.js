import{a1 as e,a2 as t,r as a,a4 as s}from"./vendor-DJ8gqV4u.js";import{aa as n,O as u}from"./index-DkLl1Mym.js";import{a as l}from"./url-DjwWyOfx.js";const i=e("homeData",(()=>{let e=t([]),i=a({}),o=t([]),h=a(""),r=a(!1);const p=s(),m=a([]),v=t=>{e.length=0,e.push(...t)},d=e=>{const t=e[0];return(null==t?void 0:t.children.length)?d(t.children):t},c=({menuType:e,pid:t})=>u(l.menus,{menuType:e,pid:t}).then((e=>0===(null==e?void 0:e.code)?{list:e.data,total:e.total}:{list:[],total:0}));return{userInfo:i,menusList:o,menus:e,setMenus:v,tabActive:h,setTabActive:e=>{h.value=e},tabMenus:m,setDefaultTabActive:()=>{const e=p.currentRoute.value;/elements/i.test(e.path)?h.value="1":/admin/i.test(e.path)?h.value="2":/questions/i.test(e.path)?h.value="3":/custom/i.test(e.path)?h.value="4":h.value="0"},setMenusByPath:()=>{c({menuType:h.value}).then((e=>{const t=null==e?void 0:e.list.filter((e=>e.show)),a=p.currentRoute.value.path,s=n(t);if(t.find((e=>e.path===a&&e.show)))p.push(a);else{const e=d(s);(null==e?void 0:e.path)&&p.push(e.path)}var u;v(s),u=t,o.length=0,o.push(...u)}))},getUserInfo:()=>u(l.user,{}).then((e=>{i.value=e})),getHeadMenus:()=>c({pid:"0"}).then((e=>{var t;m.value=null==(t=e.list)?void 0:t.filter((e=>e.show)).map((e=>({path:e.menuType,name:e.name,meta:{title:e.name}})))})),isEllipsis:r}}));export{i as u};
