import{a1 as t}from"./vendor-BExUNkqn.js";import{d as a,p as e,O as s}from"./index-DHYFN0O-.js";import{a as n}from"./url-DjwWyOfx.js";const o=t("pageStoreData",{state:()=>({pageList:{total:0,list:[]},pageDetail:{content:"",contentHtml:""},pagination:{pageSize:10,pageNo:1}}),actions:{async getPages(t){const a={...this.pagination,...t};return new Promise((async(t,e)=>{try{const e=await s(n.pages,a);this.pageList={total:e.total,list:e.data||[]},t(e)}catch(o){e(o)}}))},async getPageByComponent(t){return t?new Promise((async(a,e)=>{try{const e=await s(`${n.pages}/${t}`,{});this.pageDetail=e.data||{},a(e)}catch(o){e(o)}})):(this.pageDetail={content:"",contentHtml:""},Promise.resolve({content:""}))},async savePage(t,a=!0){return new Promise((async(s,o)=>{try{const o=await e(n.pages,t);0===(null==o?void 0:o.code)&&a&&this.getPages({}),s(o)}catch(i){o(i)}}))},async deletePage(t,e=!0){return new Promise((async(s,o)=>{try{const o=await a(n.pages,t);0===o.code&&e&&this.getPages({}),s(o)}catch(i){o(i)}}))}},persist:!0});export{o as u};
