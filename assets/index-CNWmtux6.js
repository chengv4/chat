import{p as e,r as s,_ as a}from"./index-D0F4Kqml.js";import{E as r,a as o}from"./el-form-item-DKRbXbeI.js";import{E as t}from"./el-button-CR44d9MF.js";import{E as l}from"./el-input-BrRtH2Sq.js";import{a1 as n,d as i,r as u,a2 as d,c as m,e as p,D as c,E as f,u as g,o as j,a3 as w,I as _}from"./vendor-BExUNkqn.js";import{a as v}from"./url-DjwWyOfx.js";import"./utils-CNKHhdMi.js";import"./index-BTXAWPFE.js";import"./error-D_Dr4eZ1.js";import"./index-CuRgrL4S.js";import"./index-D2oWfImC.js";import"./event-BwRzfsZt.js";import"./index-D4YsrmKI.js";const x=n("loginData",{state:()=>({loginData:{}}),actions:{async login(s){return new Promise((async(a,r)=>{try{const r=await e(v.login,s);this.loginData=r,a(r)}catch(o){r(o)}}))},logout(){this.loginData={}}},persist:!0}),y={class:"login-container"},h={class:"login-form"},b=a(i({__name:"index",setup(e){const a=u();let n=d({username:"user",password:"778899"});const i=x(),v=d({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),b=()=>{var e;null==(e=a.value)||e.validate((e=>{if(!e)return!1;i.login({password:n.password,username:n.username}).then((e=>{0===e.code&&s.push("/home")}))}))},D=()=>{var e;n={},null==(e=a.value)||e.resetFields()};return(e,s)=>{const i=l,u=o,d=t,x=r;return j(),m("div",y,[p("div",h,[c(x,{model:g(n),rules:v,ref_key:"loginFormRef",ref:a,"label-width":"70px"},{default:f((()=>[c(u,{label:"用户名",prop:"username"},{default:f((()=>[c(i,{modelValue:g(n).username,"onUpdate:modelValue":s[0]||(s[0]=e=>g(n).username=e),onKeyup:w(b,["enter"])},null,8,["modelValue"])])),_:1}),c(u,{label:"密码",prop:"password"},{default:f((()=>[c(i,{type:"password",modelValue:g(n).password,"onUpdate:modelValue":s[1]||(s[1]=e=>g(n).password=e),"show-password":"",onKeyup:w(b,["enter"])},null,8,["modelValue"])])),_:1}),c(u,null,{default:f((()=>[c(d,{type:"primary",onClick:b},{default:f((()=>s[2]||(s[2]=[_("登录")]))),_:1}),c(d,{onClick:D},{default:f((()=>s[3]||(s[3]=[_("重置")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}}),[["__scopeId","data-v-e80c40d5"]]);export{b as default};
